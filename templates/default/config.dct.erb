{
    "server_type" = "server"

    "hdl_http_config" = {
        "bind_address" = "<%= node['handle']['bind_address'] %>"
        "num_threads" = "15"
        "bind_port" = "<%= @http_port %>"
        "backlog" = "50"
        "log_accesses" = "<%= node['handle']['log_accesses'] %>"
    }

    "hdl_udp_config" = {
        "bind_address" = "<%= node['handle']['bind_address'] %>"
        "num_threads" = "15"
        "bind_port" = "<%= @port %>"
        "log_accesses" = "<%= node['handle']['log_accesses'] %>"
    }

    "hdl_tcp_config" = {
        "bind_address" = "<%= node['handle']['bind_address'] %>"
        "num_threads" = "15"
        "bind_port" = "<%= @port %>"
        "backlog" = "50"
        "log_accesses" = "<%= node['handle']['log_accesses'] %>"
    }

    "log_save_config" = {
        "log_save_directory" = "<%= @log_save_directory %>"
        "log_save_interval" = "<%= node['handle']['log_save_interval'] %>"
    }

    "no_udp_resolution" = "n"
    "interfaces" = (
        "hdl_udp"
        "hdl_tcp"
        "hdl_http"
    )

    "server_config" = {

        storage_type = "sql"

        sql_settings = {
            sql_url = "jdbc:mysql://<%= node['handle']['sql_host'] %>/<%= @sql_db %>?useUnicode=true&characterEncoding=UTF8"
            sql_driver = "com.mysql.jdbc.Driver"
            sql_login = "<%= @sql_login %>"
            sql_passwd = "<%= @sql_passwd %>"
            sql_read_only = "no"
        }

        "server_admins" = (
            <%= @server_admins %>
        )

        "max_session_time" = "86400000"
        "this_server_id" = "<%= @this_server_id %>"
        "max_auth_time" = "60000"
        "replication_authentication" = "<%= @replication_authentication %>"
        "replication_sites_handle" = "<%= @replication_sites_handle %>"
        "case_sensitive" = "no"
    }
}
